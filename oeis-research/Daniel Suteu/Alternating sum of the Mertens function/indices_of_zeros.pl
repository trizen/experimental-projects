#!/usr/bin/perl

# a(0) = 0; thereafter a(n) = a(n-1) + M(n) if M(n) > a(n-1), otherwise a(n) = a(n-1) - M(n), where M(x) is the Mertens function A002321.

# Positions of zeros in a(n) happen at the following indices:
#   0, 21067, 21069, 21075, 21089, 21526, 21528, 21534, 21536, 21538, 21540, 21578, 21580, 21582, 21584, 21590, 21592, 21598, 21600, 21606, 21608, 21627, 21631, 21635, 21639, 21643, 21645, 21653, 21657, 21659, 21662, 21664, 21665, 21669, 21673, 21675, 21680, 21685, 21686, 21688, 21690, 21692, 21695, 21705, 21707, 21715, 21717, 21721, 21728, 21745, 21766, 21768, 21774, 21776, 21792, 21807, 21810, 21812, 21818, 21820, 21823, 21825, 21826, 21833, 32999, 33005, 33013, 33054, 33056, 33066, 33068, 33077, 33090, 33092, 33095, 33121, 33127, 33129, 33164, 33167, 33185, 33189, 33192, 33197, 33200, 33227, 33230, 33232, 33262, 33264, 33270, 33272, 33298, 33300, 33341, 33342, 33422, 33424, 33426, 33428, 33429, 33433, 33434, 33435, 33436, 51281, 51285, 51295, 51299, 51301, 51303, 51315, 51319, 51323, 51325, 51327, 51331, 51335, 51367, 51738, 51740, 51746, 51748, 51750, 51752, 51838, 51840, 51842, 51844, 51866, 51868, 51902, 51904, 51910, 51912, 51918, 51920, 51975, 51978, 51980, 52003, 52007, 52013, 52033, 52037, 52051, 52063, 52065, 52090, 52092, 52094, 52096, 52104, 52127, 52131, 52135, 52137, 52165, 52186, 52188, 52197, 52201, 52205, 52210, 52212, 52222, 52224, 52249, 52253, 52257, 52261, 52263, 52289, 52293, 52297, 52299, 52303, 52375, 52385, 52397, 52445, 52453, 52457, 52463, 52467, 52554, 52556, 52602, 52604, 52634, 52636, 52642, 52644, 52690, 52692, 52878, 52880, 53097, 53101, 53105, 53183, 53187, 53191, 53201, 53205, 53209, 53233, 53235, 53247, 53251, 53253, 53340, 53346, 53348, 53350, 53352, 53366, 53368, 53370, 53372, 53394, 53396, 53404, 53406, 53408, 53410, 53412, 53418, 53420, 53434, 53436, 53446, 53448, 53450, 53452, 53517, 53521, 53523, 53525, 53543, 53563, 53620, 53622, 53624, 53630, 53632, 53762, 53764, 53766, 53768, 53782, 53784, 53792, 53902, 53904, 53916, 53924, 54154, 54156, 54166, 54168, 54222, 54224, 54407, 54435, 54447, 54451, 54455, 54461, 54465, 54504, 54510, 54512, 54518, 54520, 54522, 54524, 54538, 54540, 54578, 54580, 54590, 54592, 54594, 54596, 54602, 54604, 54610, 54612, 54618, 54620, 54626, 54628, 54630, 54632, 54659, 54663, 54665, 54669, 54673, 54675, 54694, 54696, 54730, 54732, 54742, 54744, 54839, 54865, 54869, 54889, 54891, 54907, 54909, 54949, 54953, 54986, 54988, 54990, 54992, 55022, 55024, 55026, 55028, 55082, 55084, 55090, 55092, 55094, 55096, 55098, 55100, 55117, 55121, 55131, 55145, 55153, 55157, 55257, 55261, 55263, 55267, 55269, 55275, 55279, 55283, 55293, 55299, 55327, 55344, 55363, 55367, 55394, 55396, 55402, 55404, 55410, 55412, 55426, 55428, 55478, 55480, 55500, 55526, 55528, 55530, 55532, 55558, 55560, 55586, 55588, 55598, 55600, 55602, 55604, 55634, 55636, 55638, 55640, 55646, 55648, 55650, 55652, 55666, 55668, 55678, 55680, 55806, 55808, 55814, 55816, 55818, 55820, 55834, 55836, 55842, 55844, 55874, 55876, 55882, 55884, 55894, 55896, 55906, 55908, 55947, 55951, 55953, 55955, 55959, 55987, 55989, 55996, 55998, 56000, 56005, 56006, 56007, 56008, 56011, 120999, 121003, 121005, 121017, 121029, 121037, 121043, 121055, 121111, 121113, 121129, 121131, 121155, 121159, 121241, 121267, 121285, 121299, 122326, 122328, 122336, 122344, 122346, 122348, 122350, 122352, 123406, 123408, 123414, 123416, 123422, 123424, 123426, 123428, 123434, 123436, 123442, 123444, 123474, 123476, 123490, 123492, 123502, 123504, 124030, 124032, 124575, 124591, 124793, 124811, 124815, 124835, 124871, 124877, 124891, 124893, 124897, 124903, 124907, 124913, 124917, 124921, 125083, 125113, 125117, 125129, 125167, 125187, 125191, 125316, 125378, 125380, 125445, 125459, 125475, 125477, 125481, 125519, 125527, 125549, 125553, 125557, 125559, 125609, 125615, 125654, 125656, 125658, 125660, 125667, 125962, 125964, 125970, 125972, 126010, 126012, 126022, 126024, 126030, 126032, 126128, 126134, 126136, 126155, 126163, 126167, 126174, 126176, 126183, 126187, 126189, 126192, 126197, 126201, 126203, 126209, 126213, 126238, 126240, 126246, 126248, 126250, 126252, 126260, 126301, 126309, 126313, 126315, 126319, 126323, 126325, 126329, 126389, 126459, 126782, 126784, 126790, 126792, 126874, 126876, 127199, 127211, 127221, 127227, 127283, 127337, 128279, 128283, 128287, 128911, 128915, 129244, 129314, 129316, 129542, 129544, 129546, 129548, 129550, 129552, 129559, 129566, 129568, 129574, 129576, 129586, 129588, 129593, 129594, 129596, 129597, ...

use 5.014;
use ntheory qw(:all);

local $| = 1;

my $term = 0;
my $n    = 0;

my $mu = moebius($n+1);
my $M = $mu;

while (1) {

    if ($term == 0) {
        print($n, ", ");
        #say $M;
    }

    if ($M > $term) {
        $term += $M;
    }
    else {
        $term -= $M;
    }

    ++$n;
    $mu = moebius($n+1);
    $M += $mu;
    last if ($n > 1e5);
}
