#!/usr/bin/ruby

# Carmichael numbers k where records occur for:
#
#   gcd(k-1, lambda(k))
#
# where lambda(k) is the Carmichael Lambda function.

# See also:
#   https://oeis.org/A290281

var max = 0

ARGF.each {|line|

    var k = line.nums.last
    var g = gcd(k-1, k.lambda)

    if (g > max) {
        max = g
        print(k, ", ")
    }
}

__END__

# Terms below 2^64:

561, 2465, 6601, 62745, 162401, 334153, 2531845, 4903921, 6049681, 6313681, 6840001, 11921001, 53245921, 55462177, 206955841, 271794601, 1163659861, 1271325841, 1962804565, 4169867689, 4199932801, 8885251441, 42018333841, 520178982961, 1703236597921, 2877169301461, 5472940991761, 14470656921001, 16929318554281, 26011096265701, 34876066797001, 35575075809505, 142159958924185, 158664761899885, 204370370140285, 438253965870337, 721574219707441, 1208361237478669, 6793782344275201, 9729822470631481, 11985924995083901, 24831908105124205, 83565865434172201, 171189355538562901, 471812616213578641, 1161309198137621761, 1746331506454372993, 1918513793540794321, 3778118040573702001, 17075500644126429121
