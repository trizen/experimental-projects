#!/usr/bin/ruby

func f(n) {

    var count = -1

    while (n.is_semiprime && n.is_squarefree) {
        var f = n.factor
        n = (f[1] - f[0])
        say n
        ++count
    }

    count
}

func g(n) {

    while (n.is_semiprime && n.is_squarefree) {
        var f = n.factor
        n = (f[1] - f[0])
    }

    n
}

f(6522485376074027)

#~ for k in ( 6, 34, 82, 226, 687, 4786, 14367, 28738, 373763, 21408927, 158279834) {
    #~ say "N = #{k}"
    #~ f(k)
#~ }

[
36906080234
848839845911
1697679691826
28860554761331
57721109522666
634932204749447
13044970752148058
5512943171422045715
888433389796326540098
12793929410715149772807
1629093678297729071142578
4887281034893187213427743
106984460100222506038884628082
4020421268362574987093101220915
7104764658595435026686106239628842
35523823292977175133430531198144235
68191531193198985386133247688003686322
9950208694833589564003838416476868265663
1582996443137285915085810593675959484083562
44734871910300011995040360881788821855386703
89304862426263489072131824005860834792117504282
1588027205833576209723953299742661683369723473823
3334568400031267572018533937950545414770352339083242
185544961858825748178627261200368810292521465923475583
699501486274545264107278311515629832612816415348069994922
11891525266667269489823731295765707154417879060917189913963
165429826455658345945968498171278605899067455312454902193793162
51448676027709745589196202931267646434609978602173474582269770103
9707091356765120423417539535694286036945480142824228750929116713682
6442558385367029750207645849504619345874194845837245569891711249831923
806619489992655581610596319179409152722704507835215053802624274779637442
250858661387715885880895455264796246496761101936751881732616149456467341183
119732983855529809223113696426353135811852811734043652156353942099750839535522
12093031369408510731534483339061666716997133985138408867791748152074834793097923
12632169908974010091597780135256008371267846953511638366813827163566417040739837603260557818723
].map(g).say
