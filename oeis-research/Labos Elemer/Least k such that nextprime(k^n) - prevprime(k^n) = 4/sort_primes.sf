#!/usr/bin/ruby

var arr = [
5
3
2
2
411
195
2
392
141
 105
 1161
 909
 69
 3243
 171
 370
 1659
 165
 26289
 1065
 8541
 19593
 43521
 1323
 84651
 25767
 25641
 7029
 63009
 693
 231
 957
 2601
 7137
 368265
 14769
 8169
 13071
 23679
 45
 13875
 6693
 136611
 34869
 55725
 4887
 231
 1935
 730071
 10305
 165681
 66429
 752325
 6201
 13311
 28713
 8535
 22683
 77091
 35301
 36189
 411069
 294429
 36614
 442815
 51
 258345
 18933
 304215
 148743
2128761
159045
501501
1109799
33615
41955
195945
585045
750981
229299
805335
152163
1002849
31629
1140321
90393
123801
520023
6201
212877
1503351
255129
1761465
739269
285411
15069
285039
1030623
366729
96867
156225
747
]

var t = arr.kv.sort_by {|v|
    v[1]**(v[0]+1) -> next_prime
}

for a,b in (t) {
    var z = (b**(a+1))

    var p = next_prime(z)
    var d = (p - z)

    printf("%15s | %15s\n", "#{b}^#{a+1} + #{d}", "#{b}^#{a+1} - #{4-d}")

    assert(is_prime(b**(a+1) + d))
    assert(is_prime(b**(a+1) - (4-d)))
}

__END__
        5^1 + 2 |         5^1 - 2
        3^2 + 2 |         3^2 - 2
        2^3 + 3 |         2^3 - 1
        2^4 + 1 |         2^4 - 3
        2^7 + 3 |         2^7 - 1
      411^5 + 2 |       411^5 - 2
      195^6 + 2 |       195^6 - 2
      141^9 + 2 |       141^9 - 2
     105^10 + 2 |      105^10 - 2
      392^8 + 1 |       392^8 - 3
      69^13 + 2 |       69^13 - 2
     171^15 + 2 |      171^15 - 2
    1161^11 + 2 |     1161^11 - 2
     909^12 + 2 |      909^12 - 2
     165^18 + 2 |      165^18 - 2
     370^16 + 1 |      370^16 - 3
    3243^14 + 2 |     3243^14 - 2
    1659^17 + 2 |     1659^17 - 2
    1065^20 + 2 |     1065^20 - 2
      45^40 + 2 |       45^40 - 2
     231^31 + 2 |      231^31 - 2
    1323^24 + 2 |     1323^24 - 2
    8541^21 + 2 |     8541^21 - 2
   26289^19 + 2 |    26289^19 - 2
     693^30 + 2 |      693^30 - 2
   19593^22 + 2 |    19593^22 - 2
     957^32 + 2 |      957^32 - 2
   43521^23 + 2 |    43521^23 - 2
    7029^28 + 2 |     7029^28 - 2
     231^47 + 2 |      231^47 - 2
    2601^33 + 2 |     2601^33 - 2
      51^66 + 2 |       51^66 - 2
   25767^26 + 2 |    25767^26 - 2
   25641^27 + 2 |    25641^27 - 2
   84651^25 + 2 |    84651^25 - 2
    7137^34 + 2 |     7137^34 - 2
   63009^29 + 2 |    63009^29 - 2
    8169^37 + 2 |     8169^37 - 2
   14769^36 + 2 |    14769^36 - 2
   13071^38 + 2 |    13071^38 - 2
    1935^48 + 2 |     1935^48 - 2
    6693^42 + 2 |     6693^42 - 2
    4887^46 + 2 |     4887^46 - 2
   13875^41 + 2 |    13875^41 - 2
   23679^39 + 2 |    23679^39 - 2
  368265^35 + 2 |   368265^35 - 2
   34869^44 + 2 |    34869^44 - 2
   10305^50 + 2 |    10305^50 - 2
    6201^54 + 2 |     6201^54 - 2
   55725^45 + 2 |    55725^45 - 2
  136611^43 + 2 |   136611^43 - 2
    8535^57 + 2 |     8535^57 - 2
   13311^55 + 2 |    13311^55 - 2
   28713^56 + 2 |    28713^56 - 2
   66429^52 + 2 |    66429^52 - 2
   22683^58 + 2 |    22683^58 - 2
  165681^51 + 2 |   165681^51 - 2
   35301^60 + 2 |    35301^60 - 2
   36189^61 + 2 |    36189^61 - 2
  730071^49 + 2 |   730071^49 - 2
   77091^59 + 2 |    77091^59 - 2
   18933^68 + 2 |    18933^68 - 2
   36614^64 + 1 |    36614^64 - 3
    747^102 + 2 |     747^102 - 2
  752325^53 + 2 |   752325^53 - 2
    6201^89 + 2 |     6201^89 - 2
   33615^75 + 2 |    33615^75 - 2
  294429^63 + 2 |   294429^63 - 2
  411069^62 + 2 |   411069^62 - 2
   41955^76 + 2 |    41955^76 - 2
  148743^70 + 2 |   148743^70 - 2
  258345^67 + 2 |   258345^67 - 2
  442815^65 + 2 |   442815^65 - 2
  159045^72 + 2 |   159045^72 - 2
   31629^84 + 2 |    31629^84 - 2
  304215^69 + 2 |   304215^69 - 2
   15069^96 + 2 |    15069^96 - 2
  195945^77 + 2 |   195945^77 - 2
  501501^73 + 2 |   501501^73 - 2
  152163^82 + 2 |   152163^82 - 2
   90393^86 + 2 |    90393^86 - 2
  229299^80 + 2 |   229299^80 - 2
  123801^87 + 2 |   123801^87 - 2
 1109799^74 + 2 |  1109799^74 - 2
 2128761^71 + 2 |  2128761^71 - 2
  585045^78 + 2 |   585045^78 - 2
  750981^79 + 2 |   750981^79 - 2
  805335^81 + 2 |   805335^81 - 2
  212877^90 + 2 |   212877^90 - 2
  255129^92 + 2 |   255129^92 - 2
 1002849^83 + 2 |  1002849^83 - 2
  96867^100 + 2 |   96867^100 - 2
  520023^88 + 2 |   520023^88 - 2
 1140321^85 + 2 |  1140321^85 - 2
  285411^95 + 2 |   285411^95 - 2
 156225^101 + 2 |  156225^101 - 2
  285039^97 + 2 |   285039^97 - 2
  366729^99 + 2 |   366729^99 - 2
  739269^94 + 2 |   739269^94 - 2
 1503351^91 + 2 |  1503351^91 - 2
 1761465^93 + 2 |  1761465^93 - 2
 1030623^98 + 2 |  1030623^98 - 2
